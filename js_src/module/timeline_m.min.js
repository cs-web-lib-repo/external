function timeline_set_create_article_temp(){$.ajax({url:"/timeline_set_create_article_temp",method:"POST",data:{space_seq:space_seq,timeline_seq:timeline_seq},success:function(e){0==e.ec||cs_msg.noti_err(e.ec)},dataType:"json"})}function timeline_set_create_article_temp_confirm(){$.ajax({url:"/timeline_set_create_article_temp_confirm",method:"POST",data:{space_seq:space_seq,article_seq:article_seq},success:function(e){0==e.ec||cs_msg.noti_err(e.ec)},dataType:"json"})}function timeline_set_create_article_temp_cancel(){$.ajax({url:"/timeline_set_create_article_temp_cancel",method:"POST",data:{space_seq:space_seq,article_seq:article_seq},success:function(e){0==e.ec||cs_msg.noti_err(e.ec)},dataType:"json"})}function timeline_set_create_article_reply(e=card_detail.card_article_seq,t="",s=[],_=[]){$.ajax({url:"/timeline_set_create_article_reply",method:"POST",data:{space_seq:space_seq,article_seq:e,note:t,v_file_seq:_,to_account_seq:s},success:function(t){0==t.ec?timeline_get_article_reply(e):cs_msg.noti_err(t.ec)},dataType:"json"})}function timeline_del_article(e){$.ajax({url:"/timeline_del_article",method:"POST",data:{space_seq:space_seq,article_seq:e},success:function(e){0==e.ec||cs_msg.noti_err(e.ec)},dataType:"json"})}function timeline_del_article_reply(e,t){cs_msg.swal_select((function(){$.ajax({url:"/timeline_del_article_reply",method:"POST",data:{space_seq:space_seq,article_reply_seq:t},success:function(t){0==t.ec?timeline_get_article_reply(e):cs_msg.noti_err(t.ec)},dataType:"json"})}))}function timeline_get_timeline(){$.ajax({url:"/timeline_get_timeline",method:"POST",data:{space_seq:space_seq,timeline_seq:timeline_seq,limit:limit,offset:offset},success:function(e){0==e.ec||cs_msg.noti_err(e.ec)},dataType:"json"})}function timeline_get_article(e,t){$.ajax({url:"/timeline_get_article",method:"POST",data:{space_seq:space_seq,article_seq:t},success:function(s){0==s.ec?v_editor(e,contents_parser(s.article),t):cs_msg.noti_err(s.ec)},dataType:"json"})}function timeline_set_article_section_create_note(e,t,s,_,a=0){$.ajax({url:"/timeline_set_article_section_create_note",method:"POST",async:!1,data:{space_seq:space_seq,article_seq:t,front_article_section_seq:null==_?contents_data.front_seq_enum.front_seq:_},success:function(s){0==s.ec?timeline_get_article(e,t):cs_msg.noti_err(s.ec)},dataType:"json"})}function timeline_set_article_section_create_file(e,t,s,_,a){$.ajax({url:"/timeline_set_article_section_create_file",method:"POST",async:!1,data:{space_seq:space_seq,article_seq:_,front_article_section_seq:a,file_seq:s},success:function(s){if(0==s.ec){$("#dz_remove_btn >",t.previewElement).remove(),$("#dz_remove_btn",t.previewElement).append('<i class="fas fa-check fa-2x text-success"></i>');let e=$("#file_upload_progress",t.previewElement);e.removeClass("progress-bar-navy-light"),e.addClass("progress-bar-success")}else cs_msg.noti_err(s.ec),e.emit("error",t,i18next.t(cs_msg.select_err_key(s.ec)))},dataType:"json"})}function timeline_set_article_section_order(e){let t=null;-1!=$(e.item).data("section_seq")&&(t=-1==$(e.item).prev().data("section_seq")?$(e.item).prev().prev().data("section_seq"):$(e.item).prev().data("section_seq"),$.ajax({url:"/timeline_set_article_section_order",method:"POST",data:{space_seq:space_seq,front_article_section_seq:null==t?card_detail.front_seq_enum.front:t,article_section_seq:$(e.item).data("section_seq")},success:function(e){0==e.ec||cs_msg.noti_err(e.ec)},dataType:"json"}))}function timeline_del_article_section(e){cs_msg.swal_select((function(){$.ajax({url:"/timeline_del_article_section",method:"POST",data:{space_seq:space_seq,article_section_seq:$(e).data("section_seq")},success:function(t){0==t.ec?$(e).remove():cs_msg.noti_err(t.ec)},dataType:"json"})}))}function timeline_set_article_note(e,t,s=!0){$.ajax({url:"/timeline_set_article_section_note",method:"POST",async:!1,data:{space_seq:space_seq,article_section_seq:e,note:t},success:function(_){if(contents_data.markdown_editor_data=t,0==_.ec){let _=$(`.list-group-item[data-section_seq="${e}"]`);$(".mk",_).data("mk",t);new toastui.Editor.factory({el:$(".toast_viewer",_)[0],viewer:!0,initialValue:t});1==s&&($("#markdown_editor_modal").data("is_pass",!0),$("#markdown_editor_modal").modal("hide"))}else cs_msg.noti_err(_.ec)},dataType:"json"})}function timeline_get_article_reply(e){$.ajax({url:"/timeline_get_article_reply",method:"POST",data:{space_seq:space_seq,article_seq:e},success:function(e){0==e.ec?v_article_reply($("#timeline_area"),e.article_reply,card_detail.is_use_comment):cs_msg.noti_err(e.ec)},dataType:"json"})}function timeline_set_update_article_reply(e,t,s,_,a){$.ajax({url:"/timeline_set_update_article_reply",method:"POST",data:{space_seq:space_seq,article_reply_seq:t,note:s,to_account_seq:_,v_file_seq:a},success:function(t){0==t.ec?timeline_get_article_reply(e):cs_msg.noti_err(t.ec)},dataType:"json"})}function get_timeline(){let e=null;switch(init.current_main_tab){case init.main_tabs_enum.tree:e=card_detail.article_seq;break;case init.main_tabs_enum.todo:e=todo_data.timeline_seq}$.ajax({url:"/get_timeline",method:"POST",data:{space_seq:space_seq,article_seq:e},success:function(e){if(0==e.ec)switch(init.current_main_tab){case init.main_tabs_enum.tree:card_detail.set_card_timeline(e),v_article_reply($("#timeline_area"),card_detail.card_timeline,card_detail.is_use_comment);break;case init.main_tabs_enum.todo:todo_data.set_todo_timeline(e),v_article_reply($("#todo #todo_comment"),todo_data.todo_timeline,todo_data.is_use_comment)}else cs_msg.noti_err(e.ec)},dataType:"json"})}function set_section_order(e){let t=null;-1!=$(e.item).data("section_seq")&&(t=-1==$(e.item).prev().data("section_seq")?$(e.item).prev().prev().data("section_seq"):$(e.item).prev().data("section_seq"),$.ajax({url:"/set_section_order",method:"POST",data:{space_seq:space_seq,front_section_seq:null==t?card_detail.front_seq_enum.front:t,contents_section_seq:$(e.item).data("section_seq")},success:function(e){0==e.ec?init.current_main_tab==init.main_tabs_enum.note&&get_note_list(!0,!1):cs_msg.noti_err(e.ec)},dataType:"json"}))}function set_article_create(){$.ajax({url:"/set_article_create",method:"POST",acync:!1,data:{space_seq:space_seq,timeline_seq:card_detail.card_timeline_seq,contents_seq:card_detail.current_timeline_contents_seq},success:function(e){0==e.ec||cs_msg.noti_err(e.ec)},dataType:"json"})}function set_file_rename(e,t){$.ajax({url:"/set_file_rename",method:"POST",data:{space_seq:space_seq,file_seq:e,file_name:t},success:function(e){0==e.ec||cs_msg.noti_err(e.ec)},dataType:"json"})}