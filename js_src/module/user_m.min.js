function card_get_confirm_list(){$.ajax({url:"/card_get_confirm_list",method:"POST",data:{space_seq:space_seq,card_seq:card_detail.card_seq,account_seq:account_list.enum_account_self.self,confirm_seq:0},success:function(e){0==e.ec?v_confirm_list(e.list_card_confirm,$("#tabs-card-info .info_collapse")):cs_msg.noti_err(e.ec)},dataType:"json"})}function card_get_confirm_item(e,c,_=$("#confirm_item_modal .modal-body")){$.ajax({url:"/card_get_confirm_item",method:"POST",data:{space_seq:space_seq,confirm_seq:c,account_seq:e},success:function(e){0==e.ec?v_confirm_user_item(e,_,!1):cs_msg.noti_err(e.ec)},dataType:"json"})}function card_set_confirm_create(e,c,_,s,t,o=[]){$.ajax({url:"/card_set_confirm_create",method:"POST",data:{space_seq:space_seq,card_seq:card_detail.card_seq,title:e,note:c,account_seqs:_,card_seqs:s,file_seqs:t,confirm_seqs:o},success:function(e){0==e.ec?$("#confirm_create_modal").modal("hide"):cs_msg.noti_err(e.ec)},dataType:"json"})}function card_set_confirm_cancel(e){cs_msg.swal_select((()=>{$.ajax({url:"/card_set_confirm_cancel",method:"POST",data:{space_seq:space_seq,confirm_seq:e},success:function(e){0==e.ec?card_get_confirm_list():cs_msg.noti_err(e.ec)},dataType:"json"})}),"cancel?")}function card_set_confirm_lock(e,c){$.ajax({url:"/card_set_confirm_lock",method:"POST",data:{space_seq:space_seq,confirm_seq:e,is_lock:c},success:function(e){0==e.ec?card_get_confirm_list():cs_msg.noti_err(e.ec)},dataType:"json"})}function card_set_confirm_remove(e){cs_msg.swal_select((function(){$.ajax({url:"/card_set_confirm_remove",method:"POST",data:{space_seq:space_seq,confirm_seq:e},success:function(e){0==e.ec?card_get_confirm_list():cs_msg.noti_err(e.ec)},dataType:"json"})}))}function user_set_confirm_recover(e){cs_msg.swal_select((()=>{$.ajax({url:"/card_set_confirm_recover",method:"POST",data:{space_seq:space_seq,confirm_seq:e},success:function(e){0==e.ec||cs_msg.noti_err(e.ec)},dataType:"json"})}),"recover")}function user_set_confirm_cancel(e){cs_msg.swal_select((()=>{$.ajax({url:"/card_set_confirm_cancel",method:"POST",data:{space_seq:space_seq,confirm_seq:e},success:function(e){0==e.ec||cs_msg.noti_err(e.ec)},dataType:"json"})}),"cancel?")}function user_set_confirm_lock(e,c){$.ajax({url:"/card_set_confirm_lock",method:"POST",data:{space_seq:space_seq,confirm_seq:e,is_lock:c},success:function(e){0==e.ec||cs_msg.noti_err(e.ec)},dataType:"json"})}function card_get_send_confirm_list(e,c=0,_=1,s){$.ajax({url:"/card_get_confirm_send_list",method:"POST",data:{space_seq:space_seq,account_seq:account_list.enum_account_self.self,option:c,period:_},success:function(c){0==c.ec?v_confirm_user_list(c,e,s):cs_msg.noti_err(c.ec)},dataType:"json"})}function card_get_send_confirm_item(e,c=!0,_=!1,s=!0){$.ajax({url:"/card_get_confirm_item",method:"POST",data:{space_seq:space_seq,confirm_seq:e,account_seq:account_list.enum_account_self.self},success:function(e){0==e.ec?(2==e.confirm_item.state&&(c=!0,s=!1),v_confirm_user_item(e,$("#confirm_split_right"),!0,!1,c,_,s)):cs_msg.noti_err(e.ec)},dataType:"json"})}function card_get_confirm_recv_list(e,c=0,_=1,s){$.ajax({url:"/card_get_confirm_recv_list",method:"POST",data:{space_seq:space_seq,account_seq:account_list.enum_account_self.self,option:c,period:_},success:function(c){0==c.ec?v_confirm_user_list(c,e,s):cs_msg.noti_err(c.ec)},dataType:"json"})}function card_get_confirm_recv_item(e,c=!0,_=!0,s=!1){$.ajax({url:"/card_get_confirm_item",method:"POST",data:{space_seq:space_seq,confirm_seq:e,account_seq:account_list.enum_account_self.self},success:function(e){if(0==e.ec){let t=e.list_confirm_member.account_seq.indexOf(account_list.get_user_account().account_seq),o=1!=e.list_confirm_member.type_pass[t];2==e.confirm_item.state&&(c=!1,o=!0,s=!1),1==_&&(c=!1,o=!0,s=!0),v_confirm_user_item(e,$("#confirm_split_right"),!0,c,o,s)}else cs_msg.noti_err(e.ec)},dataType:"json"})}function card_get_confirm_recv_unread_count(){$.ajax({url:"/card_get_confirm_recv_unread_count",method:"POST",data:{space_seq:space_seq},success:function(e){0==e.ec?0<e.unread_count?$($('#tabs_ul li > a[href="#tabs-confirm"] .main_new')[0]).removeClass("hidden"):$($('#tabs_ul li > a[href="#tabs-confirm"] .main_new')[0]).addClass("hidden"):cs_msg.noti_err(e.ec)},dataType:"json"})}function card_set_confirm_recv_decision(e,c,_){$.ajax({url:"/card_set_confirm_recv_decision",method:"POST",data:{space_seq:space_seq,confirm_seq:e,is_pass:c,note:_},success:function(e){0==e.ec?$("#confirm_decision_modal").modal("hide"):cs_msg.noti_err(e.ec)},dataType:"json"})}function set_confirm_remove(e,c=!0){cs_msg.swal_select((function(){$.ajax({url:"/card_set_confirm_remove",method:"POST",data:{space_seq:space_seq,confirm_seqs:[e],is_pos_recv:c},success:function(e){if(0==e.ec){let e=$("#confirm_split_center #confirm_period_select > div:not(.uncheck)").data("period");get_confirm_list(!0,$("#confirm_folder_list .list-group-item.active").data("confirm_folder_seq"),confirm.confirm_user_table,e)}else cs_msg.noti_err(e.ec)},dataType:"json"})}))}function card_get_todo(e,c=0){$.ajax({url:"/card_get_todo",method:"POST",async:!0,data:{space_seq:space_seq,target_account_seq:c},success:function(c){0==c.ec?v_todo_list(e,c.list_todo):cs_msg.noti_err(c.ec)},dataType:"json"})}function card_get_todo_unread_count(){$.ajax({url:"/card_get_todo_unread_count",method:"POST",async:!0,data:{space_seq:space_seq},success:function(e){0==e.ec?0<e.unread_count?$($('#tabs_ul li > a[href="#tabs-todo"] .main_new')[0]).removeClass("hidden"):$($('#tabs_ul li > a[href="#tabs-todo"] .main_new')[0]).addClass("hidden"):cs_msg.noti_err(e.ec)},dataType:"json"})}function todo_set_bookmark(e=0){$.ajax({url:"/card_set_bookmark",method:"POST",data:{space_seq:space_seq,card_seq:e},success:function(c){0==c.ec?(card_get_info(todo_card_info,e),card_get_todo($("#tabs-todo #todo_split_left #todo_list"))):cs_msg.noti_err(c.ec)},dataType:"json"})}function todo_del_bookmark(e=0){$.ajax({url:"/card_del_bookmark",method:"POST",data:{space_seq:space_seq,card_seq:e},success:function(c){0==c.ec?(card_get_info(todo_card_info,e),card_get_todo($("#tabs-todo #todo_split_left #todo_list"))):cs_msg.noti_err(c.ec)},dataType:"json"})}function todo_set_lock(e=card_detail.card_seq,c=$("#card_set_lock_btn").hasClass("uncheck")){$.ajax({url:"/card_set_lock",method:"POST",data:{space_seq:space_seq,card_seq:e,is_lock:c},success:function(c){0==c.ec?(card_get_info(todo_card_info,e),card_get_todo($("#tabs-todo #todo_split_left #todo_list"))):cs_msg.noti_err(c.ec)},dataType:"json"})}function todo_set_todo(e=card_detail.card_seq,c=$("#card_set_todo_btn").hasClass("uncheck"),_=0){$.ajax({url:"/card_set_todo",method:"POST",data:{space_seq:space_seq,card_seq:e,is_set:c,target_account_seq:_},success:function(c){0==c.ec?(card_get_info(todo_card_info,e),card_get_todo($("#tabs-todo #todo_split_left #todo_list"))):cs_msg.noti_err(c.ec)},dataType:"json"})}function todo_set_account_owner(e,c=card_detail.card_seq,_){$.ajax({url:"/card_set_account_owner",method:"POST",data:{space_seq:space_seq,card_seq:c,owner_account_seq:e,note:_},success:function(e){0==e.ec?(card_get_info(todo_card_info,c),card_get_todo($("#tabs-todo #todo_split_left #todo_list"))):cs_msg.noti_err(e.ec)},error:function(e,c,_){},dataType:"json"})}function todo_set_account_viewer(e,c=card_detail.card_seq){$.ajax({url:"/card_set_account_viewer",method:"POST",data:{space_seq:space_seq,card_seq:c,list_viewer_account_seq:e},success:function(e){0==e.ec?(card_get_info(todo_card_info,c),card_get_todo($("#tabs-todo #todo_split_left #todo_list"))):cs_msg.noti_err(e.ec)},error:function(e,c,_){},dataType:"json"})}function todo_set_title(e,c){""!=e&&$.ajax({url:"/card_set_title",method:"POST",data:{space_seq:space_seq,card_seq:c,title:e},success:function(e){0==e.ec?(card_get_info(todo_card_info,c),card_get_todo($("#tabs-todo #todo_split_left #todo_list"))):cs_msg.noti_err(e.ec)},dataType:"json"})}function todo_set_per_done(e,c=card_detail.card_seq){$.ajax({url:"/card_set_per_done",method:"POST",data:{space_seq:space_seq,card_seq:c,per_done:e},success:function(c){0==c.ec?($("#todo_split_right .progress-bar").css("width",e+"%").text(e+"%"),card_get_todo($("#tabs-todo #todo_split_left #todo_list"))):cs_msg.noti_err(c.ec)},error:function(e,c,_){},dataType:"json"})}function todo_get_cost_list(e){$.ajax({url:"/get_cost_list",method:"POST",data:{space_seq:space_seq,card_seq:e},success:function(e){0==e.ec?v_card_cost(e):cs_msg.noti_err(e.ec)},dataType:"json"})}function todo_get_cost_view(e){$.ajax({url:"/get_cost_list",method:"POST",data:{space_seq:space_seq,card_seq:e},success:function(e){0==e.ec?v_card_cost_view(e):cs_msg.noti_err(e.ec)},dataType:"json"})}function todo_get_cost_list_depth1(e){$.ajax({url:"/get_cost_list_depth1",method:"POST",data:{space_seq:space_seq,card_seq:e},success:function(e){0==e.ec?v_cost_list(e.list_cost_log_1depth):cs_msg.noti_err(e.ec)},dataType:"json"})}function todo_set_schedule(e,c,_,s,t,o,a){$.ajax({url:"/card_set_schedule",method:"POST",data:{space_seq:space_seq,card_seq:e,is_repeat:c,is_all_day:_,start_ts:s,end_ts:t,r_rule:o,duration:a},success:function(c){0==c.ec?(card_get_info(todo_card_info,e),$("#date_input_modal").modal("hide")):cs_msg.noti_err(c.ec)},dataType:"json"})}function todo_del_schedule(e){cs_msg.swal_select((function(){$.ajax({url:"/card_del_schedule",method:"POST",data:{space_seq:space_seq,card_seq:e},success:function(c){0==c.ec?card_get_info(todo_card_info,e):cs_msg.noti_err(c.ec)},dataType:"json"})}))}function todo_set_status(e,c=todo.todo_card_seq){$.ajax({url:"/card_set_status",method:"POST",data:{space_seq:space_seq,card_seq:c,status:e},success:function(_){0==_.ec?(card_get_info(todo_card_info,c),card_get_todo($("#tabs-todo #todo_split_left #todo_list"))):61==_.ec?cs_msg.swal_select((function(){$.ajax({url:"/card_set_status",method:"POST",data:{space_seq:space_seq,card_seq:c,status:e},success:function(e){0==e.ec?(card_get_info(todo_card_info,c),card_get_todo($("#tabs-todo #todo_split_left #todo_list"))):cs_msg.noti_err(e.ec)},dataType:"json"})}),"force","force ex","force comp"):(card_get_info(todo_card_info,c),card_get_todo($("#tabs-todo #todo_split_left #todo_list")),cs_msg.noti_err(_.ec))},dataType:"json"})}function todo_set_priority(e,c=todo.todo_card_seq){$.ajax({url:"/card_set_priority",method:"POST",data:{space_seq:space_seq,card_seq:c,priority:e},success:function(e){0==e.ec?(card_get_info(todo_card_info,c),card_get_todo($("#tabs-todo #todo_split_left #todo_list"))):(cs_msg.noti_err(e.ec),card_get_info(todo_card_info,c),card_get_todo($("#tabs-todo #todo_split_left #todo_list")))},dataType:"json"})}