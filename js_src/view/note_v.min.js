function v_note_info(e,t,a){let i="",n="";switch(e.status){case card_detail.type_status_enum.ready:i="far fa-circle",n="btn-toolbar-grey";break;case card_detail.type_status_enum.progress:i="far fa-play-circle",n="btn-toolbar-primary";break;case card_detail.type_status_enum.stop:i="far fa-pause-circle",n="btn-toolbar-warning";break;case card_detail.type_status_enum.cancel:i="far fa-stop-circle",n="btn-toolbar-danger";break;case card_detail.type_status_enum.complete:i="far fa-check-circle",n="btn-toolbar-success"}let s='<div id="note_set_bookmark_btn" class="btn btn-sm btn-info uncheck"\ndata-toggle="tooltip" title="" data-i18n="[title]card:tip.bookmark">\n<i class="far fa-lg fa-star"></i>\n</div>';1==e.is_bookmark&&(s='<div id="note_del_bookmark_btn" class="btn btn-sm btn-info"\ndata-toggle="tooltip" title="" data-i18n="[title]card:tip.bookmark">\n<i class="fas fa-lg fa-star"></i>\n</div>');let l='<li class="dropdown-item">\n<a id="note_delete_btn" class="dis dis_o dis_root">\n<i class="fas fa-trash"></i>\n<span data-i18n="card:info.delete"></span>\n</a>\n</li>';1==e.is_deleted&&(l='<li class="dropdown-item">\n<a id="note_delete_btn" class="dis dis_o dis_root">\n<i class="fas fa-trash"></i>\n<span data-i18n="card:info.remove"></span>\n</a>\n</li>\n<li class="divider"></li>\n<li class="dropdown-item">\n<a id="note_recover_btn" class="dis dis_o dis_root">\n<i class="fas fa-reply"></i>\n<span data-i18n="card:info.recover"></span>\n</a>\n</li>');let d=`<span id="note_date_btn" class="dis dis_time"\ndata-start_ts="${moment().valueOf()}"\ndata-end_ts="${moment().valueOf()}"\ndata-is_allday="0"\ndata-is_repeat="0"\ndata-is_schedule="0">\n<div class="dis dis_time btn btn-normal btn-xs" data-i18n="card:info.date.date"></div>\n</span>`;1==e.is_schedule&&(d=`<span id="note_date_btn" class="dis dis_time"\ndata-start_ts="${e.schedule_item.start_ts}"\ndata-end_ts="${e.schedule_item.end_ts}"\ndata-is_allday="${e.schedule_item.is_all_day}"\ndata-is_repeat="${e.schedule_item.is_repeat}"\ndata-is_schedule="${e.is_schedule}">\n${schedule_time(e.schedule_item.start_ts,e.schedule_item.end_ts,e.schedule_item.is_all_day,e.schedule_item.is_repeat,e.is_schedule)}\n</span>`);let o="",c=`<div id="note_title_edit" class="col-xs-9 compact_row over_wrapper note_title_edit">\n${e.title}\n</div>`;1!=note.note_node.isTopLevel()&&1!=e.is_deleted||(c=`<div class="col-xs-9 compact_row over_wrapper input_chain">\n${e.title}\n</div>`),1==$("#note_tree").fancytree("getTree").getNodeByKey(a).hasChildren()&&(o='<li class="divider"></li>\n<li class="dropdown-submenu pull-left dis">\n<a id="submenu_btn" class="submenu_btn" type="button">\n<i class="fas fa-level-down-alt"></i><span data-i18n="tree:tree.drop.under"></span>\n</a>\n<ul id="under_batch_btns" class="dropdown-menu" role="menu">\n<li id="note_state_batch_btn" class="dropdown-item">\n<a><i class="fas fa-play"></i><span data-i18n="tree:tree.drop.attribute batch"></span></a>\n</li>\n<li class="divider"></li>\n<li id="note_move_batch_btn" class="dropdown-item">\n<a><i class="far fa-share-square"></i><span data-i18n="tree:tree.drop.move batch"></span></a>\n</li>\n</ul>\n</li>'),t.prepend(`<div class="info_form">\n<div class="col-lg-12">\n<div class="col-lg-6 xs_size">\n<div class="row">\n<div class="col-xs-3">\n<label class="pull-right info_tm_7" data-i18n="card:info.card title"></label>\n</div>\n${c}\n</div>\n<div class="row">\n<div class="col-xs-3">\n<label class="pull-right info_tm_3"><span data-i18n="card:info.state"></span></label>\n</div>\n<div class="col-xs-9 compact_row">\n${select_state_sytle(e.is_hidden,e.is_deleted)}\n</div>\n</div>\n<div class="row">\n<div class="col-xs-3">\n<label class="pull-right"><span data-i18n="card:info.created"></span></label>\n</div>\n<div class="col-xs-9 compact_row">\n<span class="label label-normal moment_time" data-ctime="${e.ctime}">${moment_time(e.ctime)}</span>\n<span class="hidden lts_time" data-ctime="${e.ctime}"> ${lts_time(e.ctime)}</span>\n</div>\n</div>\n</div>\n<div class="col-lg-6 xs_size">\n<div class="row">\n<div class="col-xs-3">\n<label class="pull-right info_tm_7"><span data-i18n="card:info.link copy"></span></label>\n</div>\n<div class="col-xs-9 compact_row">\n<span id="note_seq_copy" class="btn btn-sm btn-default" data-card_seq="${a}"\ndata-toggle="tooltip" title="" data-i18n="[title]card:tip.copy">\n<i class="far fa-clone"></i>\n</span>\n<span># ${a}</span>\n</div>\n</div>\n<div class="row">\n<div class="col-xs-3">\n<label class="pull-right info_tm_7" data-i18n="card:info.date.date_label"></label>\n</div>\n<div class="col-xs-9 compact_row info_tm_7">\n${d}\n</div>\n</div>\n</div>\n</div>\n<hr>\n</div>`),t.prepend(`<div id="note_btn_group" class="info_btn_group">\n<div id="note_state_btn" class="dis btn btn-sm ${n}"\ndata-toggle="tooltip" title="" data-i18n="[title]card:tip.state">\n<i class="${i} fa-lg"></i></div>\n<div id="note_state_toolbar" class="hidden">\n<a id="note_info_ready_btn" class="btn btn-grey uncheck" title="" data-i18n="[title]card:tip.state select.ready">\n<i class="far fa-circle fa-lg"></i>\n</a>\n<a id="note_info_progress_btn" class="btn btn-primary uncheck" title="" data-i18n="[title]card:tip.state select.progress">\n<i class="far fa-play-circle fa-lg"></i>\n</a>\n<a id="note_info_stop_btn" class="btn btn-warning uncheck" title="" data-i18n="[title]card:tip.state select.stop">\n<i class="far fa-pause-circle fa-lg"></i>\n</a>\n<a id="note_info_cancel_btn" class="btn btn-danger uncheck" title="" data-i18n="[title]card:tip.state select.cancel">\n<i class="far fa-stop-circle fa-lg"></i>\n</a>\n<a id="note_info_complete_btn" class="btn btn-success uncheck" title="" data-i18n="[title]card:tip.state select.complete">\n<i class="far fa-check-circle fa-lg"></i>\n</a>\n</div>\n${s}\n<div id="note_create_btn" class="dis btn btn-sm btn-default"\ndata-toggle="tooltip" title="" data-i18n="[title]card:tip.create">\n<i class="fas fa-plus fa-lg"></i>\n</div>\n<span class="dropdown pull-right">\n<a type="button" data-toggle="dropdown" aria-haspopup="true"\naria-expanded="false"><div class="btn btn-default btn-sm"><i class="fas fa-ellipsis-h fa-lg"></i></div></a>\n<ul class="dropdown-menu" role="menu">\n<li class="dropdown-item">\n<a id="note_title_btn" class="dis dis_osl dis_root">\n<i class="fas fa-edit"></i>\n<span data-i18n="tree:tree.drop.title"></span>\n</a>\n</li>\n<li class="divider"></li>\n<li class="dropdown-item">\n<a id="note_move_modal_btn" class="dis dis_osl dis_root">\n<i class="far fa-share-square"></i>\n<span data-i18n="card:info.move"></span>\n</a>\n</li>\n<li class="divider"></li>\n${l}\n${o}\n</ul>\n</span>\n</div>`),1==note.note_node.isTopLevel()?$(".dis.dis_root",t).each((function(e,t){$(t).attr("disabled","disabled"),$(t).attr("id","")})):1==e.is_deleted&&$(".dis:not(.dis_o)",t).each((function(e,t){$(t).attr("disabled","disabled"),$(t).attr("id","")})),$("#note_state_btn").toolbar({content:"#note_state_toolbar",position:"right",style:"light",animation:"flip",event:"click",hideOnClick:!0})}function v_note_timeline(e){$("#tabs-note-info #note_contents").remove(),$("#tabs-note-info #info_area").append('<div id="note_contents" data-mcs-theme="dark">\n<div id="contents_area">\n<h3 class="text-center">Please select a card</h3>\n</div>\n</div>').data("article_seq",e.list_article[0].article_seq),note.edit_mode==note.enum_edit_mode.view?($("#tabs-note-info #note_contents").prepend('<div id="note_edit_btn" class="btn btn-sm btn-primary note_edit_btn"><i class="fas fa-edit fa-lg"></i></div>'),v_contents($("#tabs-note-info #contents_area"),contents_parser(e.list_article[0].info_article))):v_editor($("#tabs-note-info #contents_area"),contents_parser(e.list_article[0].info_article),e.list_article[0].article_seq)}function v_note_list(e){note.note_list_table.clear(),note.note_list_table.state.clear(),$("#note_list").scrollTop(0);const t=e.note_seq.length;let a=new Array;for(i=0;i<t;++i)a.push([e.depth[i],select_state_icon(e.status[i]),select_title_sytle(null,e.is_deleted[i],e.title[i],e.note_seq[i]),select_state_sytle(null,e.is_deleted[i]),e.is_deleted[i],select_schedule_icon(e.is_schedule[i]),humanize_file_size(e.file_size_sum_self[i]),humanize_file_size(e.file_size_sum_under[i]),e.file_size_sum_self[i],e.file_size_sum_under[i]]);note.note_list_table.rows.add(a),note.note_list_table.draw(),$("#ntoe_list .account_drop a").webuiPopover("destroy").webuiPopover(init.popover_option)}function v_note_file_list(e){note.note_file_list_table.clear();let t=e.list_file_info;$("#file_list").scrollTop(0);const a=t.file_seq.length;let i=new Array,n=0;for(let e=0;e<a;++e)i.push([file_list_preview(t.is_preview[e],t.file_seq[e],t.mimetype[e],t.name[e],t.size[e],n),file_list_name(t.name[e],t.file_seq[e],t.use_seq[e]),file_list_size(t.size[e]),t.size[e],moment_time(t.ctime[e]),t.ctime[e],file_list_del(t.is_deletable[e],t.file_seq[e]),t.file_seq[e],t.name[e],t.mimetype[e],t.size[e],t.is_preview[e]]),1==t.is_preview[e]&&n++;note.note_file_list_table.rows.add(i),note.note_file_list_table.draw()}