function set_icon_color(a){return 1==tinycolor(a).isDark()&&.3<tinycolor(a).getAlpha()?"#fff":"#000"}function v_space_append(a,e){let s=set_icon_color(e.color),n='<i id="set_bookmark_btn" class="far fa-star text-warning"></i>';0!=e.bookmark_ctime&&(n='<i id="set_bookmark_btn" class="fas fa-star text-warning"></i>');let t="";1==e.is_space_admin&&(t=`<span id="msapce_btn"><i class="fas fa-cog" style="color: ${s};"></i></span>`);let c="";switch(1!=e.pay_d_day&&(c=`<span>${e.pay_d_day}</span>`),a.append(`<div class="col-xs-12 col-md-6 col-lg-4">\n<div id="go_space_tree" class="thumbnail btn btn-default"\ndata-space_seq="${e.space_seq}">\n<div class="space_thumbnail_top between_flex" style="background-color: #${e.color}">\n<span style="color: ${s}">\n<i class="far fa-user"></i>\n<span class="pl_5">${e.account_count}</span>\n</span>\n<span>\n${t}\n<span id="select_color_btn" data-color="${e.color}" data-space_seq="${e.space_seq}"><i class="fas fa-pen" style="color: ${s};"></i></span>\n</span>\n</div>\n<div class="caption text-left">\n<h3 class="over_wrapper">${n}${e.name}</h3>\n<p class="over_wrapper">${e.note}</p>\n</div>\n<div class="space_state text-left"></div>\n</div>\n</div>`),e.type_join){case space_data.enum_type_join.normal:switch(e.type_restriction){case space_data.enum_state_space.normal:$(".thumbnail:last .space_state",a).remove();break;case space_data.enum_state_space.readonly:$(".thumbnail:last .space_state",a).append(`<span class="over_wrapper" data-i18n="cs:space.readonly"></span> ${c}`);break;case space_data.enum_state_space.stop:$(".thumbnail:last .space_state",a).append('<div class="over_wrapper" data-i18n="cs:space.stop"></div>')}break;case space_data.enum_type_join.stop:$(".thumbnail:last .space_state",a).append(`<div class="over_wrapper" data-i18n="cs:join.stop ex"></div>\n<div id="join_leave" class="btn btn-sm btn-dark pull-right mr_5"\ndata-space_seq="${e.space_seq}">\n<span data-i18n="cs:join.leave"></span>\n</div>`);break;case space_data.enum_type_join.wait:$(".thumbnail:last .space_state",a).append(`<div class="over_wrapper" data-i18n="cs:join.wait ex"></div>\n<div id="join_cancel" class="btn btn-sm btn-dark pull-right mr_5"\ndata-space_seq="${e.space_seq}">\n<span data-i18n="cs:join.cancel"></span>\n</div>`);break;case space_data.enum_type_join.reject:$(".thumbnail:last .space_state",a).append(`<div class="over_wrapper" data-i18n="cs:join.reject ex"></div>\n<div id="join_confirm" class="btn btn-sm btn-dark pull-right mr_5"\ndata-space_seq="${e.space_seq}">\n<span data-i18n="cs:join.ok"></span>\n</div>`);break;case space_data.enum_type_join.leave:$(".thumbnail:last .space_state",a).append(`<div class="over_wrapper" data-i18n="cs:join.leave ex"></div>\n<div id="join_confirm" class="btn btn-sm btn-dark pull-right mr_5"\ndata-space_seq="${e.space_seq}">\n<span data-i18n="cs:join.ok"></span>\n</div>`);break;case space_data.enum_type_join.remove:$(".thumbnail:last .space_state",a).append(`<div class="over_wrapper" data-i18n="cs:join.remove ex"></div>\n<div id="join_confirm" class="btn btn-sm btn-dark pull-right mr_5"\ndata-space_seq="${e.space_seq}">\n<span data-i18n="cs:join.ok"></span>\n</div>`);break;case space_data.enum_type_join.not_exist:$(".thumbnail:last .space_state",a).append(`<div class="over_wrapper" data-i18n="cs:join.not_exist ex"></div>\n<div id="join_confirm" class="btn btn-sm btn-dark pull-right mr_5"\ndata-space_seq="${e.space_seq}">\n<span data-i18n="cs:join.ok"></span>\n</div>`)}}function v_space_list(a){$("#space_row > div >").remove();let e=$(document.createDocumentFragment()),s=$(document.createDocumentFragment()),n=$(document.createDocumentFragment()),t=!1,c=!1,p=new Array;a.forEach((function(a){a.color=(a.color>>>0).toString(16).padStart(8,"0"),0!=a.bookmark_ctime&&p.push(a),1==a.type_price&&(t=!0,v_space_append(s,a)),2==a.type_price&&(c=!0,v_space_append(n,a))})),p.length&&(e.append('<h4 class="col-xs-12"><i class="fas fa-star text-warning"></i><span data-i18n="cs:space.bookmark"></span></h4>'),p.sort((function(a,e){return a.bookmark_ctime<e.bookmark_ctime?-1:a.bookmark_ctime>e.bookmark_ctime?1:0})),p.forEach((function(a){v_space_append(e,a)}))),t&&s.prepend('<h4 class="col-xs-12">free</h4>'),c&&n.prepend('<h4 class="col-xs-12">pay</h4>'),s.append('\n<div class="col-xs-12 col-sm-6 col-md-6 col-lg-4">\n<a class="thumbnail btn btn-default" data-toggle="modal" data-target="#add_space">\n<div class="caption">\n<i class="fa fa-plus-circle fa-4x"></i>\n<h4 data-i18n="cs:space.create"></h4>\n<p><span>3ê°œ</span><span data-i18n="cs:space.remaining"></span></p>\n</div>\n</a>\n</div>'),$("#space_bookmark").append(e),$("#space_free").append(s),$("#space_pay").append(n)}