function i18n_update(){try{$("body").localize()}catch(e){}}function changeLng(e){i18next.changeLanguage(e)}i18next.use(i18nextBrowserLanguageDetector).use(i18nextHttpBackend).init({fallbackLng:"en",detection:{order:["localStorage","navigator"],lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]},ns:["cs"],defaultNS:"cs",backend:{loadPath:"/i18n/{{lng}}/{{ns}}.json",crossDomain:!1}},((e,a)=>{jqueryI18next.init(i18next,$),console.log(i18next.languages[0]),i18n_update(),$(document).ajaxComplete((function(){i18n_update()}))})),i18next.on("languageChanged",(()=>{i18n_update()}));class space_data_{constructor(){this.enum_state_space={normal:0,readonly:1,stop:2},this.enum_type_join={normal:1,stop:2,wait:3,reject:4,leave:5,remove:6,not_exist:7}}}let space_data=new space_data_;account_get_profile(),get_space_list(),$(document).on("click","#go_space_tree",(function(){window.location.href="/space/"+$(this).data("space_seq")})),$(document).on("click","#go_space_tree .space_thumbnail_top",(function(e){e.stopPropagation()})),$(document).on("click","#select_color_btn",(function(e){e.stopPropagation();let a=$(this).data("space_seq"),t=tinycolor($(this).data("color"));$(this).spectrum({color:t,type:"flat",showInput:!0,showInitial:!0,locale:i18next.languages[0],change:function(e){set_account_color(a,parseInt(e.toHex8(),16))}}),$(this).spectrum("show")})),$(document).on("click","#msapce_btn",(function(e){e.stopPropagation();let a=$(this).closest("#go_space_tree").data("space_seq");window.open(`/mspace/${a}`)})),$(document).on("click","#set_bookmark_btn",(function(e){e.stopPropagation(),space_set_bookmark($(this).parents("#go_space_tree").data("space_seq"),$(this).hasClass("far"))})),$(document).on("click","#add_space #space_create_btn",(function(e){console.log($("#add_space #space_create_name").val(),$("#add_space #space_create_note").val()),set_space_create($("#add_space #space_create_name").val(),$("#add_space #space_create_note").val())})),$(document).on("click","#join_leave",(function(){set_account_leave($(this).data("space_seq"))})),$(document).on("click","#join_cancel",(function(){set_account_join_cancel($(this).data("space_seq"))})),$(document).on("click","#join_confirm",(function(){set_account_join_confirm($(this).data("space_seq"))}));