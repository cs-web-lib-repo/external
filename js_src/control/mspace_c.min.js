class mspace_data_{constructor(){this.mspace=null,this.invite_data=null,this.list_invite_table=null,this.join_wait_data=null,this.join_wait_table=null,this.join_history_data=null,this.join_history_table=null,this.account_list_data=null,this.account_list_table=null,this.org_seq=null,this.org_expand_list=[],this.enum_approval={accept:1,reject:2},this.enum_ret_state={normal:1,stop:2,leave:3,remove:4},this.enum_account_state={normal:1,stop:2,remove:3},this.enum_history_join_type={wait:1,cancel:2,accept:3,reject:4,leave:5,remove:6}}set_invite_data(e){this.invite_data=e}set_join_wait_data(e){this.join_wait_data=e}set_join_history_data(e){this.join_history_data=e}set_account_list_data(e){this.account_list_data=e}}let mspace_data=new mspace_data_;function mspace_active(e){$("#space_setting_slide .list_item").removeClass("active"),$(e).addClass("active"),init.is_web||init.space_setting_slidebar.close("space_setting_slide")}$(document).on("click","#space_intro_btn",(function(){set_space_intro($("#intro_space_name").val().trim(),$("#intro_space_note").val().trim())})),$(document).on("click","#info_btn",(function(){$("#dashboard_btn").trigger("click")})),$(document).on("click","#dashboard_btn",(function(){mspace_active(this),$("#space_setting_info > h4").remove(),$("#space_setting_info").append('<h4 class="over_wrapper text-center" data-i18n="mspace:menu.dashboard"></h4>'),get_state()})),$(document).on("click","#info_setting_btn",(function(){mspace_active(this),$("#space_setting_info > h4").remove(),$("#space_setting_info").append('<h4 class="over_wrapper text-center" data-i18n="mspace:menu.info set"></h4>'),get_space_intro(!0)})),$(document).on("click","#invite_btn",(function(){$("#invite_list_btn").trigger("click")})),$(document).on("click","#invite_list_btn",(function(){mspace_active(this),$("#space_setting_info > h4").remove(),$("#space_setting_info").append('<h4 class="over_wrapper text-center" data-i18n="mspace:menu.invite"></h4>'),get_invite_list()})),$(document).on("click","#join_wait_btn",(function(){mspace_active(this),$("#space_setting_info > h4").remove(),$("#space_setting_info").append('<h4 class="over_wrapper text-center" data-i18n="mspace:menu.approval rejected"></h4>'),get_account_list_join_wait()})),$(document).on("click","#join_history_btn",(function(){mspace_active(this),$("#space_setting_info > h4").remove(),$("#space_setting_info").append('<h4 class="over_wrapper text-center" data-i18n="mspace:menu.log"></h4>'),get_account_list_join_history()})),$(document).on("click","#account_list_btn",(function(){mspace_active(this),$("#space_setting_info > h4").remove(),$("#space_setting_info").append('<h4 class="over_wrapper text-center" data-i18n="mspace:menu.user settings"></h4>'),get_account_list()})),$(document).on("click","#group_set_btn",(function(){mspace_active(this),$("#space_setting_info > h4").remove(),$("#space_setting_info").append('<h4 class="over_wrapper text-center" data-i18n="mspace:menu.org settings"></h4>'),v_group_tree(),get_org()})),$(document).on("click","#org_create_modal #create_org_btn",(function(){set_org_create(mspace_data.org_seq,$("#org_create_modal #create_org_input").val()),$("#org_create_modal #create_org_input").val(""),$("#org_create_modal #create_org_input").focus()})),$(document).on("keydown","#org_create_modal #create_org_input",(function(e){13==e.keyCode&&(set_org_create(mspace_data.org_seq,$("#org_create_modal #create_org_input").val()),$("#org_create_modal #create_org_input").val(""),$("#org_create_modal #create_org_input").focus())})),$(document).on("click","#org_create_modal #create_org_close_btn",(function(){set_org_create(mspace_data.org_seq,$("#org_create_modal #create_org_input").val()),$("#org_create_modal").modal("hide")})),$(document).on("shown.bs.modal","#org_create_modal",(function(){$("#org_create_modal #create_org_input").focus()})),$(document).on("click","#morg_tree #org_create_btn",(function(){console.log($(this).data("org_seq")),mspace_data.org_seq=$(this).data("org_seq"),$("#org_create_modal #create_org_input").val(""),$("#org_create_modal").modal()})),$(document).on("click","#morg_tree #org_move_modal_btn",(function(){$("#morg_move_modal").modal(),v_card_duplication_tree($("#morg_tree"),$("#morg_move_tree")),morg_mvoe_tree_resize()})),$(document).on("click","#morg_move_modal #morg_move_btn",(function(){set_org_move($("#morg_tree").fancytree("getTree").getActiveNode().key,$("#morg_move_tree").fancytree("getTree").getActiveNode().key)})),$(document).on("click","#morg_tree #org_remove_btn",(function(){del_org_remove($(this).data("org_seq"))})),$(document).on("shown.bs.modal","#org_modify_modal",(function(){$("#org_modify_modal #modify_org_input").focus()})),$(document).on("click","#morg_tree #org_modify_btn",(function(){$("#org_modify_modal #modify_org_input").val($("#morg_tree").fancytree("getTree").getActiveNode().title),$("#org_modify_modal").modal()})),$(document).on("click","#org_modify_modal #modify_org_btn",(function(){set_org_modify($("#morg_tree").fancytree("getTree").getActiveNode().key,$("#org_modify_modal #modify_org_input").val())})),$(document).on("keydown","#org_modify_modal #modify_org_input",(function(e){13==e.keyCode&&set_org_modify($("#morg_tree").fancytree("getTree").getActiveNode().key,$("#org_modify_modal #modify_org_input").val())})),$(document).on("click","#morg_tree #org_account_add_btn",(function(){$("#multi_select_modal #contents_title_area h3").remove(),$("#multi_select_modal #contents_title_area").append('<h3 class="over_wrapper text-center" data-i18n="card:auth.select viewer"></h3>'),$("#multi_select_modal .modal-footer >").remove(),$("#multi_select_modal .modal-footer").append('<span id="auth_cancel_btn" class="pull-right btn btn-danger"\ndata-i18n="card:auth.cancel"></span>\n<span id="account_add_btn" class="pull-right btn btn-primary"\ndata-i18n="card:auth.apply"></span>'),v_account_select_tree($("#multi_select_modal #multi_select_list"),$("#multi_select_modal #multi_select_tree"),$("#morg_tree").fancytree("getTree").getActiveNode().data.v_account_seq),$("#multi_select_modal").localize(),$("#multi_select_modal").modal()})),$(document).on("click","#morg_tree #org_account_move_btn",(function(){console.log($("#morg_tree").fancytree("getTree").getActiveNode().parent.key),console.log($("#morg_tree").fancytree("getTree").getActiveNode().key.replace(/[^0-9]/g,"")),console.log($("#morg_tree").fancytree("getTree").getActiveNode().data.account_seq)})),$(document).on("click","#morg_tree #org_account_remove_btn",(function(){org_account_remove($("#morg_tree").fancytree("getTree").getActiveNode().data.account_seq)})),$(document).on("click","#multi_select_modal #account_add_btn",(function(){org_account_add(tree_data.get_account_selected_seqs($("#multi_select_modal #multi_select_tree").fancytree("getTree"))),$(".select_modal.in").modal("hide")})),$(document).on("click","#org_set_admin_btn",(function(){set_admin($("#morg_tree").fancytree("getTree").getActiveNode().data.account_seq,!0)})),$(document).on("click","#org_del_admin_btn",(function(){set_admin($("#morg_tree").fancytree("getTree").getActiveNode().data.account_seq,!1)}));