function i18n_update(){try{$("body").localize()}catch(t){}}i18next.use(i18nextBrowserLanguageDetector).use(i18nextHttpBackend).init({fallbackLng:"en",detection:{order:["localStorage","navigator"],lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]},ns:["cs","tree","card","user","note","message","chat","org","mspace","error","noti","modal"],defaultNS:"card",backend:{loadPath:"/i18n/{{lng}}/{{ns}}.json",crossDomain:!1}},((t,e)=>{jqueryI18next.init(i18next,$),moment.locale(i18next.languages[0]),i18n_update(),$(document).ajaxComplete((function(){i18n_update()}))})),i18next.on("languageChanged",(()=>{i18n_update()}));class account_list_{constructor(){this.account_seq=null,this.account=null,this.list_account_info=null,this.enum_account_self={self:0},this.enum_account_state={normal:1,stop:2,leave:3,remove:4}}set_list_account_info(t){this.list_account_info=new Map;let e=t.list_account_info,c=e.account_seq.length;for(let t=0;t<c;++t){let c=new Object;c.account_seq=e.account_seq[t],c.name=e.name[t],c.state=e.state[t],c.photo_url=e.photo_url[t],this.list_account_info.set(e.account_seq[t],c)}}set_user_account(t){this.account=t}get_user_account(){return null==this.account&&account_get_profile_space(account_list.enum_account_self.self,user_profile,!1),this.account}is_user_account(t){return this.get_user_account().account_seq==t}get_account(t){return t=parseInt(t),null==account_list.list_account_info&&space_get_account_list(!1),this.list_account_info.get(t)}}let account_list=new account_list_;class mspace_init_{constructor(){this.is_web=!0,this.space_seq=null,this.mspce_slidebar=null,this.mspace_split=null}}let mspace_init=new mspace_init_;function set_split(){null!=mspace_init.mspace_split&&mspace_init.mspace_split.destroy();let t=[100,0],e=0;1==mspace_init.is_web&&(e=0,t=[20,80]),mspace_init.mspace_split=Split(["#space_setting_slide","#space_setting"],{sizes:t,gutterSize:0,minSize:e})}function split_collapse(t){try{mspace_init.mspace_split.collapse(t)}catch(t){console.log(t)}}function layout_switch(){if($("body").width()<768){if(0==mspace_init.is_web)return;$(".slide_toggle").removeClass("hidden"),mspace_init.is_web=!1,set_split()}else{if(1==mspace_init.is_web)return;$(".slide_toggle").addClass("hidden"),mspace_init.is_web=!0,set_split()}}$(window).resize((function(t){layout_switch()})),window.addEventListener("popstate",(function(){$(".slide_toggle").trigger("click")})),$((function(){mspace_init.space_seq=$("#space_seq").data("space-seq"),$("#space_seq").remove(),space_get_account_list(!1),get_payment_price_unit(),layout_switch(),set_split()}));class mspace_data_{constructor(){this.mspace=null,this.invite_data=null,this.list_invite_table=null,this.join_wait_data=null,this.join_wait_table=null,this.join_history_data=null,this.join_history_table=null,this.account_list_data=null,this.account_list_table=null,this.pay_unit=null,this.pay_type=null,this.enum_unit_type={min:0,krw:1,usd:2},this.payment_history_table=null,this.org_seq=null,this.org_expand_list=[],this.enum_approval={accept:1,reject:2},this.enum_ret_state={normal:1,stop:2,leave:3,remove:4},this.enum_account_state={normal:1,stop:2,remove:3},this.enum_history_join_type={wait:1,cancel:2,accept:3,reject:4,leave:5,remove:6},this.enum_type_period={start_end:0,month1:1,month3:2,month6:3,month12:4},this.pay_chart_data=null,this.realtime_chart_data=null}set_invite_data(t){this.invite_data=t}set_join_wait_data(t){this.join_wait_data=t}set_join_history_data(t){this.join_history_data=t}set_account_list_data(t){this.account_list_data=t}}let mspace_data=new mspace_data_;function mspace_active(t,e){$("#space_setting_slide .list_item").removeClass("active"),$(t).addClass("active"),$("#space_setting_info h4").attr("data-i18n",e).localize(),$("#space_setting").scrollTop(0),mspace_init.is_web||mspace_init.mspace_split.collapse(0);let c=["mspace"];history.pushState(c,null,"?q="+encodeURIComponent(btoa(JSON.stringify(c))))}function v_card_duplication_tree(t,e,c=null){let n=t.fancytree("getTree"),o=e.fancytree("getTree");o.clear(),null==c?o.rootNode.addChildren(n.getFirstChild().toDict(!0)):(o.rootNode.addChildren(c.toDict(!0)),o.selectAll(!1))}$(document).on("click","#space_intro_btn",(function(){set_space_intro($("#intro_space_name").val().trim(),$("#intro_space_note").val().trim())})),$(document).on("click","#info_btn",(function(){$("#dashboard_btn").trigger("click")})),$(document).on("click","#dashboard_btn",(function(){mspace_active(this,"mspace:menu.dashboard"),get_mspace_state_recent()})),$(document).on("click","#info_setting_btn",(function(){mspace_active(this,"mspace:menu.info set"),get_space_intro(!0)})),$(document).on("click","#payment_btn",(function(){$("#payment_make_btn").trigger("click")})),$(document).on("click","#payment_make_btn",(function(){mspace_active(this,"mspace:menu.make a payment"),$("#space_setting_contents >").remove(),$("#space_setting_contents").append('<div id="price_pay_panel" class="col-xs-12"></div>\n<div id="chart_pay_panel" class="col-xs-12"></div>'),get_payment_bill_chart_pay()})),$(document).on("click","#payment_realtime_btn",(function(){mspace_active(this,"mspace:menu.realtime payment"),$("#space_setting_contents >").remove(),$("#space_setting_contents").append('<div id="price_pay_panel" class="col-xs-12"></div>\n<div id="chart_pay_panel" class="col-xs-12"></div>'),get_payment_bill_chart_realtime()})),$(document).on("click","#payment_history_btn",(function(){mspace_active(this,"mspace:menu.payment history"),$("#space_setting_contents >").remove(),$("#space_setting_contents").append('<table id="pay_history_table" class="display"></table>\n<div id="price_pay_panel" class="col-xs-12"></div>\n<div id="chart_pay_panel" class="col-xs-12"></div>'),get_payment_history_list()})),$(document).on("click","#pay_history_table tbody tr",(function(){let t=mspace_data.payment_history_table.row($(this));t.select(),$("#chart_pay_panel >").remove(),$("#price_pay_panel >").remove(),get_payment_history_item(t.data()[6])})),$(document).on("click","#invite_btn",(function(){$("#invite_list_btn").trigger("click")})),$(document).on("click","#invite_list_btn",(function(){mspace_active(this,"mspace:menu.invite"),get_invite_list()})),$(document).on("click","#join_wait_btn",(function(){mspace_active(this,"mspace:menu.approval rejected"),get_account_list_join_wait()})),$(document).on("click","#join_history_btn",(function(){mspace_active(this,"mspace:menu.log"),get_account_list_join_history()})),$(document).on("click","#account_list_btn",(function(){mspace_active(this,"mspace:menu.user settings"),get_account_list()})),$(document).on("click","#group_set_btn",(function(){mspace_active(this,"mspace:menu.org settings"),v_group_tree(),get_org()})),$(document).on("click","#org_create_modal #create_org_btn",(function(){set_org_create(mspace_data.org_seq,$("#org_create_modal #create_org_input").val()),$("#org_create_modal #create_org_input").val(""),$("#org_create_modal #create_org_input").focus()})),$(document).on("keydown","#org_create_modal #create_org_input",(function(t){13==t.keyCode&&(set_org_create(mspace_data.org_seq,$("#org_create_modal #create_org_input").val()),$("#org_create_modal #create_org_input").val(""),$("#org_create_modal #create_org_input").focus())})),$(document).on("click","#org_create_modal #create_org_close_btn",(function(){set_org_create(mspace_data.org_seq,$("#org_create_modal #create_org_input").val()),$("#org_create_modal").modal("hide")})),$(document).on("shown.bs.modal","#org_create_modal",(function(){$("#org_create_modal #create_org_input").focus()})),$(document).on("click","#morg_tree #org_create_btn",(function(){console.log($(this).data("org_seq")),mspace_data.org_seq=$(this).data("org_seq"),$("#org_create_modal #create_org_input").val(""),$("#org_create_modal").modal()})),$(document).on("click","#morg_tree #org_move_modal_btn",(function(){$("#morg_move_modal").modal(),v_card_duplication_tree($("#morg_tree"),$("#morg_move_tree")),morg_mvoe_tree_resize()})),$(document).on("click","#morg_move_modal #morg_move_btn",(function(){set_org_move($("#morg_tree").fancytree("getTree").getActiveNode().key,$("#morg_move_tree").fancytree("getTree").getActiveNode().key)})),$(document).on("click","#morg_tree #org_remove_btn",(function(){del_org_remove($(this).data("org_seq"))})),$(document).on("shown.bs.modal","#org_modify_modal",(function(){$("#org_modify_modal #modify_org_input").focus()})),$(document).on("click","#morg_tree #org_modify_btn",(function(){$("#org_modify_modal #modify_org_input").val($("#morg_tree").fancytree("getTree").getActiveNode().title),$("#org_modify_modal").modal()})),$(document).on("click","#org_modify_modal #modify_org_btn",(function(){set_org_modify($("#morg_tree").fancytree("getTree").getActiveNode().key,$("#org_modify_modal #modify_org_input").val())})),$(document).on("keydown","#org_modify_modal #modify_org_input",(function(t){13==t.keyCode&&set_org_modify($("#morg_tree").fancytree("getTree").getActiveNode().key,$("#org_modify_modal #modify_org_input").val())})),$(document).on("click","#morg_tree #org_account_add_btn",(function(){$("#multi_select_modal #contents_title_area h3").remove(),$("#multi_select_modal #contents_title_area").append('<h3 class="over_wrapper text-center" data-i18n="card:auth.select viewer"></h3>'),$("#multi_select_modal .modal-footer >").remove(),$("#multi_select_modal .modal-footer").append('<span id="auth_cancel_btn" class="pull-right btn btn-danger"\ndata-i18n="card:auth.cancel"></span>\n<span id="account_add_btn" class="pull-right btn btn-primary"\ndata-i18n="card:auth.apply"></span>'),v_account_select_tree($("#multi_select_modal #multi_select_list"),$("#multi_select_modal #multi_select_tree"),$("#morg_tree").fancytree("getTree").getActiveNode().data.v_account_seq),$("#multi_select_modal").localize(),$("#multi_select_modal").modal()})),$(document).on("click","#morg_tree #org_account_move_btn",(function(){console.log($("#morg_tree").fancytree("getTree").getActiveNode().parent.key),console.log($("#morg_tree").fancytree("getTree").getActiveNode().key.replace(/[^0-9]/g,"")),console.log($("#morg_tree").fancytree("getTree").getActiveNode().data.account_seq)})),$(document).on("click","#morg_tree #org_account_remove_btn",(function(){org_account_remove($("#morg_tree").fancytree("getTree").getActiveNode().data.account_seq)})),$(document).on("click","#multi_select_modal #account_add_btn",(function(){org_account_add(tree_data.get_account_selected_seqs($("#multi_select_modal #multi_select_tree").fancytree("getTree"))),$(".select_modal.in").modal("hide")})),$(document).on("click","#org_set_admin_btn",(function(){set_admin($("#morg_tree").fancytree("getTree").getActiveNode().data.account_seq,!0)})),$(document).on("click","#org_del_admin_btn",(function(){set_admin($("#morg_tree").fancytree("getTree").getActiveNode().data.account_seq,!1)})),$(document).on("click",".slide_toggle",(function(){split_collapse(1)})),$(document).on("click","#test1",(function(){get_mspace_state_chart_account(mspace_data.enum_type_period.month1)})),$(document).on("click","#test2",(function(){get_mspace_state_chart_card(mspace_data.enum_type_period.month1)})),$(document).on("click","#test3",(function(){get_mspace_state_chart_chat(mspace_data.enum_type_period.month1)})),$(document).on("click","#test4",(function(){get_mspace_state_chart_file(mspace_data.enum_type_period.month1)})),$(document).on("click","#test5",(function(){get_mspace_state_chart_message(mspace_data.enum_type_period.month1)})),$(document).on("click","#test6",(function(){get_mspace_state_chart_note(mspace_data.enum_type_period.month1)})),$(document).on("click","#test7",(function(){get_mspace_state_chart_storage(mspace_data.enum_type_period.month1)})),$(document).on("click","#test8",(function(){}));